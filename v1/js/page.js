!function(){"use strict";var a="/index";angular.module("app",["ngRoute","ngAnimate","ngTouch","ng-iscroll","jqCookies","appControllers","appTemplateCache","appProviders","appFilters","appDirectives"]).config(["$routeProvider",function(b){var c={delay:["$q","$timeout",function(a,b){var c=a.defer();return b(c.resolve,50,!1),c.promise}]};b.when("/index",{templateUrl:"views/index.html",controller:"IndexControl",resolve:c}).when("/index/module/a",{templateUrl:"views/a.html",controller:"AControl",resolve:c}).when("/index/module/b",{templateUrl:"views/b.html",controller:"BControl",resolve:c}).when("/index/module/b/:id",{templateUrl:"views/b_id.html",controller:"BIdControl",resolve:c}).when("/index/module/pulldown2refresh",{templateUrl:"views/pulldown2refresh.html",controller:"Pulldown2RefreshControl",resolve:c}).when("/index/module/pullup4result",{templateUrl:"views/pullup4result.html",controller:"Pullup4ResultControl",resolve:c}).otherwise({redirectTo:a})}]).run(["$rootScope","page",function(a){var c=0;a.$on("$routeChangeStart",function(d,e){var f,g=!0;e&&e.$$route&&(f=e.$$route.originalPath,b!==f&&b&&-1!==b.indexOf(f)&&(g=!1)),b=f,c++<1||(a.pageAnimationClass=g?"slideLeft":"slideRight")})}]);var b="";angular.module("appControllers",[]),angular.module("appProviders",[]),angular.module("appFilters",[]),angular.module("appDirectives",[]),document.addEventListener("touchmove",function(a){a.preventDefault()},!1)}(),function(){"use strict";angular.module("appDirectives").directive("clickOutside",["$document",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(a){a.stopPropagation()}),a.bind("click",function(){b.$apply(d.clickOutside)})}}}])}(),function(){"use strict";angular.module("appFilters",[]).filter("helloFilter",function(){return function(){return"Hello world"}})}(),function(){"use strict";var a;angular.module("appProviders").factory("page",["$rootScope","$location","$http","$q","$cacheFactory","cookieStore","$window",function(b,c,d,e,f,g,h){a||(a=f("appCache"));var i=angular.copy(c.search()),j="amb_params";g.cookie.json=!0,$.isEmptyObject(i)?i=g.cookie(j):g.cookie(j,i),angular.forEach(i,function(a,b){c.search(b,null)});var k={params:i,constant:{timezoneOffset:60*(new Date).getTimezoneOffset()*1e3},utility:{timeFormat:function(a){var b=new Date(1e3*a),c=b.getFullYear(),d=1+b.getMonth(),e=b.getDate(),f=b.getHours(),g=b.getMinutes();return c+"年"+d+"月"+e+"日  "+f+":"+g}},navigate:function(a){c.path(a)},back:function(){h.history.back()},dialog:{alert:function(a,b){h.alert&&(h.alert(a),b&&b())},progress:function(){},confirm:function(a,b,c,d){h.confirm&&(h.confirm(b)?c&&c():d&&d())}}};return k}])}(),angular.module("appTemplateCache",["views/a.html","views/b.html","views/b_id.html","views/index.html","views/pulldown2refresh.html","views/pullup4result.html"]),angular.module("views/a.html",[]).run(["$templateCache",function(a){a.put("views/a.html",'<ul>\n	<li><a href="javascript:void(0);" ng-click="back()">back</a></li>\n</ul>\n{{message}}\n')}]),angular.module("views/b.html",[]).run(["$templateCache",function(a){a.put("views/b.html",'<ul>\n	<li><a href="javascript:void(0);" ng-click="back()">back</a></li>\n	<li><a href="#/index/module/b/1">Next Level</a></li>\n</ul>\n{{message}}\n')}]),angular.module("views/b_id.html",[]).run(["$templateCache",function(a){a.put("views/b_id.html",'<ul>\n	<li><a href="javascript:void(0);" ng-click="back()">back</a></li>\n</ul>\n{{message}}\n')}]),angular.module("views/index.html",[]).run(["$templateCache",function(a){a.put("views/index.html",'<div class="indexViewHeader">Header</div>\n<div ng-iscroll="indexViewScroll" class="indexViewScrollView">\n    <div>\n        <ul>\n            <li><a ng-click="navigate(\'/index/module/a\')">Welcome</a></li>\n            <li><a ng-click="navigate(\'/index/module/b\')">Multiple Level views</a></li>\n            <li><a ng-click="navigate(\'/index/module/pulldown2refresh\')">pulldown to refresh</a></li>\n            <li><a ng-click="navigate(\'/index/module/pullup4result\')">pullup for result</a></li>\n			<li ng-repeat="item in items track by $index">{{item || "item"}} {{$index}}</li>\n        </ul>\n    </div>\n</div>\n<div class="indexViewFooter">Footer</div>\n')}]),angular.module("views/pulldown2refresh.html",[]).run(["$templateCache",function(a){a.put("views/pulldown2refresh.html",'<div class="subViewHeader">Pull down to refresh demo</div>\n<div ng-iscroll="pRefreshViewScroll" class="subViewScrollView">\n    <div>\n		<div class="subViewPullDown" id="pRefreshViewPullDown">{{pullDownMessage}}</div>\n        <ul>\n			<li ng-repeat="item in items track by $index">{{item || "item"}}</li>\n        </ul>\n    </div>\n</div>\n<div class="subViewFooter">Footer</div>\n')}]),angular.module("views/pullup4result.html",[]).run(["$templateCache",function(a){a.put("views/pullup4result.html",'<div class="subViewHeader">Pull up for result</div>\n<div ng-iscroll="subViewScroll" class="subViewScrollView">\n    <div>\n		<button ng-click="askName()">askName</button>\n		hi {{name}}\n    </div>\n</div>\n<div class="subViewFooter">Footer</div>\n<!-- pull up dialog-->\n<div ng-show="showNamePullup" class="subView pullupView ng-hide">\n	<input ng-model="name"></input>\n	<button ng-click="closePopup()">Close</button>\n</div>\n')}]),function(){"use strict";angular.module("appControllers").controller("AControl",["$scope","page",function(a,b){a.message="This is the start point of your awesome app",a.back=function(){b.back()}}])}(),function(){"use strict";angular.module("appControllers").controller("BControl",["$scope","page",function(a,b){a.message="This is Module B",a.back=function(){b.back()}}])}(),function(){"use strict";angular.module("appControllers").controller("BIdControl",["$scope","page","$routeParams",function(a,b,c){var d=c.id;a.message="This is module B "+d,a.back=function(){b.back()}}])}(),function(){"use strict";angular.module("appControllers").controller("IndexControl",["$scope","page","$timeout",function(a,b,c){function d(){c(function(){a.myScroll&&a.myScroll.indexViewScroll&&a.myScroll.indexViewScroll.refresh()},0)}a.navigate=function(a){b.navigate(a)},a.items=[],c(function(){a.items=new Array(60)},1e3),a.$watch("items",d,!0)}])}(),function(){"use strict";angular.module("appControllers").controller("Pulldown2RefreshControl",["$scope","page","$timeout",function(a,b,c){function d(){return c(function(){for(var b=0;5>b;b++)a.items.unshift("new item "+i++)},2e3)}function e(){c(function(){a.myScroll&&a.myScroll.pRefreshViewScroll&&a.myScroll.pRefreshViewScroll.refresh()},0)}a.items=[],c(function(){a.items=new Array(60)},1e3);var f=["Pull down to refresh","Release to refresh","Loading..."],g=$("#pRefreshViewPullDown").height(),h=30;a.pullDownMessage=f[0],a.myScrollOptions={pRefreshViewScroll:{topOffset:g,onScrollMove:function(){this.y>h&&(a.pullDownMessage!==f[1]&&(a.pullDownMessage=f[1],a.$apply()),this.minScrollY=0),this.oldY=this.y},onScrollEnd:function(){if(this.scrollInit||($("#pRefreshViewPullDown").css("visibility","visible"),this.scrollInit=!0),this.oldY>h){a.pullDownMessage!==f[2]&&(a.pullDownMessage=f[2],a.$apply());var b=this;d().then(function(){b.minScrollY=-g,a.pullDownMessage=f[0]})}this.oldY=this.y}}},a.$watch("items",e,!0);var i=0}])}(),function(){"use strict";angular.module("appControllers").controller("Pullup4ResultControl",["$scope","page","$timeout",function(a){a.showNamePullup=!1,a.askName=function(){a.showNamePullup=!0},a.closePopup=function(){a.showNamePullup=!1}}])}();